{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar getBarChartData = function getBarChartData(apiData, selectedState) {\n  //console.log(\"Locations in chart utils\", apiData, selectedState);\n  var list = apiData.filter(function (x) {\n    return x.country_code === selectedState.iso2;\n  }); //console.log(\"List \", list);\n  //const tmpList = list.filter(x => x.province === selectedState.provinceState);\n  //console.log(\"tmp List\", tmpList);\n\n  var record = list.length > 1 ? list.find(function (x) {\n    return x.province === selectedState.provinceState;\n  }) : list[0]; //console.log(\"record\", record);\n\n  var sorted = Object.keys(record.history).sort(function (a, b) {\n    return new Date(a) - new Date(b);\n  });\n  var labels = sorted.slice(-15);\n  return {\n    labels: labels,\n    datasets: [{\n      label: \"Daily cases\",\n      backgroundColor: \"#ff8c00\",\n      borderColor: \"grey\",\n      borderWidth: 1,\n      hoverBackgroundColor: \"#ffa500\",\n      hoverBorderColor: \"#ffa500\",\n      data: labels.map(function (label) {\n        return record.history[label];\n      })\n    }]\n  };\n};\n\nvar getBarChartOptions = function getBarChartOptions(selectedState) {\n  return {\n    responsive: true,\n    maintainAspectRatio: false,\n    legend: {\n      display: false\n    },\n    tooltips: {\n      mode: \"index\",\n      callbacks: {\n        label: function label(tooltipItem, data) {\n          var label = data.datasets[tooltipItem.datasetIndex].label || \"\";\n\n          if (label) {\n            label += \": \";\n          }\n\n          label += tooltipItem.yLabel.toLocaleString();\n          return label;\n        }\n      }\n    },\n    scales: {\n      xAxes: xAxesBar,\n      yAxes: yAxesBar\n    },\n    title: {\n      display: \"Display\",\n      fontSize: 15,\n      text: selectedState.provinceState ? \"Total Cases in \" + selectedState.provinceState : \"Total Cases in \" + selectedState.countryName\n    }\n  };\n};\n\nvar getChartData = function getChartData(chartType, apiData) {\n  var _ref;\n\n  //console.log(\"Api data\", apiData.slice(-10));\n  var sliced = apiData.slice(-40);\n  return {\n    labels: sliced.map(function (it) {\n      return it.reportDateString;\n    }),\n    datasets: [(_ref = {\n      label: \"Total\",\n      fill: false,\n      lineTension: 0,\n      borderWidth: 2,\n      pointBackgroundColor: \"red\",\n      pointBorderColor: \"red\",\n      pointHoverRadius: 5,\n      pointRadius: 2,\n      backgroundColor: \"red\",\n      pointHoverBackgroundColor: \"red\",\n      pointHoverBorderColor: \"rgba(220,220,220,1)\",\n      pointBorderWidth: 1\n    }, _defineProperty(_ref, \"pointHoverRadius\", 5), _defineProperty(_ref, \"borderColor\", \"red\"), _defineProperty(_ref, \"data\", sliced.map(function (it) {\n      return it.totalConfirmed;\n    })), _ref), {\n      label: \"China\",\n      fill: false,\n      lineTension: 0,\n      borderWidth: 2,\n      backgroundColor: \"orange\",\n      borderColor: \"orange\",\n      borderCapStyle: \"butt\",\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: \"miter\",\n      pointBorderColor: \"orange\",\n      pointBackgroundColor: \"orange\",\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: \"orange\",\n      pointHoverBorderColor: \"rgba(220,220,220,1)\",\n      pointHoverBorderWidth: 2,\n      pointRadius: 2,\n      pointHitRadius: 10,\n      data: sliced.map(function (it) {\n        return it.mainlandChina;\n      })\n    }, {\n      label: \"Other Countries\",\n      fill: false,\n      lineTension: 0,\n      borderWidth: 2,\n      backgroundColor: \"blue\",\n      borderColor: \"blue\",\n      borderCapStyle: \"butt\",\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: \"miter\",\n      pointBorderColor: \"blue\",\n      pointBackgroundColor: \"blue\",\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: \"blue\",\n      pointHoverBorderColor: \"rgba(220,220,220,1)\",\n      pointHoverBorderWidth: 2,\n      pointRadius: 2,\n      pointHitRadius: 10,\n      data: sliced.map(function (it) {\n        return it.otherLocations;\n      })\n    }, {\n      label: \"Recovered\",\n      fill: false,\n      lineTension: 0,\n      borderWidth: 2,\n      backgroundColor: \"green\",\n      borderColor: \"green\",\n      borderCapStyle: \"butt\",\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: \"miter\",\n      pointBorderColor: \"green\",\n      pointBackgroundColor: \"green\",\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: \"green\",\n      pointHoverBorderColor: \"rgba(220,220,220,1)\",\n      pointHoverBorderWidth: 2,\n      pointRadius: 2,\n      pointHitRadius: 10,\n      data: sliced.map(function (it) {\n        return it.totalRecovered;\n      })\n    }]\n  };\n};\n\nvar getChartOptions = function getChartOptions(type) {\n  return {\n    responsive: true,\n    maintainAspectRatio: false,\n    legend: {\n      position: \"top\",\n      labels: {\n        usePointStyle: true,\n        boxWidth: 8\n      }\n    },\n    tooltips: {\n      mode: \"index\",\n      callbacks: {\n        label: function label(tooltipItem, data) {\n          var label = data.datasets[tooltipItem.datasetIndex].label || \"\";\n\n          if (label) {\n            label += \": \";\n          }\n\n          label += tooltipItem.yLabel.toLocaleString();\n          return label;\n        }\n      }\n    },\n    scales: {\n      xAxes: xAxes,\n      yAxes: yAxes\n    },\n    title: {\n      display: \"Display\",\n      fontSize: 20,\n      text: \"Coronavirs Cases - Overall Stats\"\n    }\n  };\n};\n\nvar xAxes = [{\n  type: \"time\",\n  distribution: \"series\",\n  gridLines: {\n    display: false\n  },\n  scaleLabel: {\n    display: true,\n    labelString: \"Date (Last 40 days)\",\n    fontSize: 15\n  },\n  ticks: {\n    major: {\n      enabled: true,\n      fontStyle: \"bold\"\n    },\n    source: \"data\",\n    autoSkip: true,\n    autoSkipPadding: 0,\n    maxRotation: 50\n  },\n  time: {\n    tooltipFormat: \"MM/DD/YYYY\",\n    displayFormats: {\n      month: \"MMM DD\"\n    }\n  }\n}];\nvar yAxes = [{\n  scaleLabel: {\n    display: true,\n    labelString: \"Number of cases\",\n    fontSize: 15\n  },\n  ticks: {\n    beginAtZero: true,\n    userCallback: function userCallback(value, index, values) {\n      return value.toLocaleString(); // this is all we need\n    }\n  }\n}];\nvar xAxesBar = [{\n  type: \"time\",\n  offset: true,\n  distribution: \"series\",\n  gridLines: {\n    display: false\n  },\n  scaleLabel: {\n    display: true,\n    labelString: \"Date (Last 15 days)\",\n    fontSize: 15\n  },\n  ticks: {\n    major: {\n      enabled: true\n    },\n    source: \"data\",\n    autoSkip: true,\n    autoSkipPadding: 0,\n    maxRotation: 50\n  },\n  time: {\n    tooltipFormat: \"MMM DD\",\n    displayFormats: {\n      month: \"MMM DD\"\n    }\n  }\n}];\nvar yAxesBar = [{\n  scaleLabel: {\n    display: true,\n    labelString: \"Number of cases\",\n    fontSize: 15\n  },\n  ticks: {\n    beginAtZero: true,\n    userCallback: function userCallback(value, index, values) {\n      return value.toLocaleString(); // this is all we need\n    }\n  }\n}];\nexport { getChartData, getChartOptions, getBarChartData, getBarChartOptions };","map":{"version":3,"sources":["C:/Learning/coronavirus-tracker/utils/chartUtils.js"],"names":["getBarChartData","apiData","selectedState","list","filter","x","country_code","iso2","record","length","find","province","provinceState","sorted","Object","keys","history","sort","a","b","Date","labels","slice","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","data","map","getBarChartOptions","responsive","maintainAspectRatio","legend","display","tooltips","mode","callbacks","tooltipItem","datasetIndex","yLabel","toLocaleString","scales","xAxes","xAxesBar","yAxes","yAxesBar","title","fontSize","text","countryName","getChartData","chartType","sliced","it","reportDateString","fill","lineTension","pointBackgroundColor","pointBorderColor","pointHoverRadius","pointRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointBorderWidth","totalConfirmed","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointHoverBorderWidth","pointHitRadius","mainlandChina","otherLocations","totalRecovered","getChartOptions","type","position","usePointStyle","boxWidth","distribution","gridLines","scaleLabel","labelString","ticks","major","enabled","fontStyle","source","autoSkip","autoSkipPadding","maxRotation","time","tooltipFormat","displayFormats","month","beginAtZero","userCallback","value","index","values","offset"],"mappings":"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","sourcesContent":["const getBarChartData = (apiData, selectedState) => {\r\n  //console.log(\"Locations in chart utils\", apiData, selectedState);\r\n  const list = apiData.filter(x => x.country_code === selectedState.iso2);\r\n  //console.log(\"List \", list);\r\n  //const tmpList = list.filter(x => x.province === selectedState.provinceState);\r\n  //console.log(\"tmp List\", tmpList);\r\n  const record =\r\n    list.length > 1\r\n      ? list.find(x => x.province === selectedState.provinceState)\r\n      : list[0];\r\n\r\n  //console.log(\"record\", record);\r\n\r\n  const sorted = Object.keys(record.history).sort(\r\n    (a, b) => new Date(a) - new Date(b)\r\n  );\r\n\r\n  const labels = sorted.slice(-15);\r\n\r\n  return {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: \"Daily cases\",\r\n        backgroundColor: \"#ff8c00\",\r\n        borderColor: \"grey\",\r\n        borderWidth: 1,\r\n        hoverBackgroundColor: \"#ffa500\",\r\n        hoverBorderColor: \"#ffa500\",\r\n        data: labels.map(label => record.history[label])\r\n      }\r\n    ]\r\n  };\r\n};\r\n\r\nconst getBarChartOptions = selectedState => {\r\n  return {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    legend: {\r\n      display: false\r\n    },\r\n    tooltips: {\r\n      mode: \"index\",\r\n      callbacks: {\r\n        label: function(tooltipItem, data) {\r\n          var label = data.datasets[tooltipItem.datasetIndex].label || \"\";\r\n          if (label) {\r\n            label += \": \";\r\n          }\r\n          label += tooltipItem.yLabel.toLocaleString();\r\n          return label;\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: xAxesBar,\r\n      yAxes: yAxesBar\r\n    },\r\n    title: {\r\n      display: \"Display\",\r\n      fontSize: 15,\r\n      text: selectedState.provinceState\r\n        ? \"Total Cases in \" + selectedState.provinceState\r\n        : \"Total Cases in \" + selectedState.countryName\r\n    }\r\n  };\r\n};\r\n\r\nconst getChartData = (chartType, apiData) => {\r\n  //console.log(\"Api data\", apiData.slice(-10));\r\n  let sliced = apiData.slice(-40);\r\n\r\n  return {\r\n    labels: sliced.map(it => it.reportDateString),\r\n    datasets: [\r\n      {\r\n        label: \"Total\",\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderWidth: 2,\r\n        pointBackgroundColor: \"red\",\r\n        pointBorderColor: \"red\",\r\n        pointHoverRadius: 5,\r\n        pointRadius: 2,\r\n        backgroundColor: \"red\",\r\n        pointHoverBackgroundColor: \"red\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        borderColor: \"red\",\r\n        data: sliced.map(it => it.totalConfirmed)\r\n      },\r\n      {\r\n        label: \"China\",\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderWidth: 2,\r\n        backgroundColor: \"orange\",\r\n        borderColor: \"orange\",\r\n        borderCapStyle: \"butt\",\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: \"miter\",\r\n        pointBorderColor: \"orange\",\r\n        pointBackgroundColor: \"orange\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: \"orange\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 2,\r\n        pointHitRadius: 10,\r\n        data: sliced.map(it => it.mainlandChina)\r\n      },\r\n      {\r\n        label: \"Other Countries\",\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderWidth: 2,\r\n        backgroundColor: \"blue\",\r\n        borderColor: \"blue\",\r\n        borderCapStyle: \"butt\",\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: \"miter\",\r\n        pointBorderColor: \"blue\",\r\n        pointBackgroundColor: \"blue\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: \"blue\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 2,\r\n        pointHitRadius: 10,\r\n        data: sliced.map(it => it.otherLocations)\r\n      },\r\n      {\r\n        label: \"Recovered\",\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderWidth: 2,\r\n        backgroundColor: \"green\",\r\n        borderColor: \"green\",\r\n        borderCapStyle: \"butt\",\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: \"miter\",\r\n        pointBorderColor: \"green\",\r\n        pointBackgroundColor: \"green\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: \"green\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 2,\r\n        pointHitRadius: 10,\r\n        data: sliced.map(it => it.totalRecovered)\r\n      }\r\n    ]\r\n  };\r\n};\r\n\r\nconst getChartOptions = type => {\r\n  return {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    legend: {\r\n      position: \"top\",\r\n      labels: {\r\n        usePointStyle: true,\r\n        boxWidth: 8\r\n      }\r\n    },\r\n    tooltips: {\r\n      mode: \"index\",\r\n      callbacks: {\r\n        label: function(tooltipItem, data) {\r\n          var label = data.datasets[tooltipItem.datasetIndex].label || \"\";\r\n          if (label) {\r\n            label += \": \";\r\n          }\r\n          label += tooltipItem.yLabel.toLocaleString();\r\n          return label;\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes,\r\n      yAxes\r\n    },\r\n    title: {\r\n      display: \"Display\",\r\n      fontSize: 20,\r\n      text: \"Coronavirs Cases - Overall Stats\"\r\n    }\r\n  };\r\n};\r\n\r\nconst xAxes = [\r\n  {\r\n    type: \"time\",\r\n    distribution: \"series\",\r\n    gridLines: {\r\n      display: false\r\n    },\r\n    scaleLabel: {\r\n      display: true,\r\n      labelString: \"Date (Last 40 days)\",\r\n      fontSize: 15\r\n    },\r\n    ticks: {\r\n      major: {\r\n        enabled: true,\r\n        fontStyle: \"bold\"\r\n      },\r\n      source: \"data\",\r\n      autoSkip: true,\r\n      autoSkipPadding: 0,\r\n      maxRotation: 50\r\n    },\r\n    time: {\r\n      tooltipFormat: \"MM/DD/YYYY\",\r\n      displayFormats: {\r\n        month: \"MMM DD\"\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nconst yAxes = [\r\n  {\r\n    scaleLabel: {\r\n      display: true,\r\n      labelString: \"Number of cases\",\r\n      fontSize: 15\r\n    },\r\n    ticks: {\r\n      beginAtZero: true,\r\n      userCallback: function(value, index, values) {\r\n        return value.toLocaleString(); // this is all we need\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nconst xAxesBar = [\r\n  {\r\n    type: \"time\",\r\n    offset: true,\r\n    distribution: \"series\",\r\n    gridLines: {\r\n      display: false\r\n    },\r\n    scaleLabel: {\r\n      display: true,\r\n      labelString: \"Date (Last 15 days)\",\r\n      fontSize: 15\r\n    },\r\n    ticks: {\r\n      major: {\r\n        enabled: true\r\n      },\r\n      source: \"data\",\r\n      autoSkip: true,\r\n      autoSkipPadding: 0,\r\n      maxRotation: 50\r\n    },\r\n    time: {\r\n      tooltipFormat: \"MMM DD\",\r\n      displayFormats: {\r\n        month: \"MMM DD\"\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nconst yAxesBar = [\r\n  {\r\n    scaleLabel: {\r\n      display: true,\r\n      labelString: \"Number of cases\",\r\n      fontSize: 15\r\n    },\r\n    ticks: {\r\n      beginAtZero: true,\r\n      userCallback: function(value, index, values) {\r\n        return value.toLocaleString(); // this is all we need\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nexport { getChartData, getChartOptions, getBarChartData, getBarChartOptions };\r\n"]},"metadata":{},"sourceType":"module"}