{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.fb9926454eb40656bb5a.hot-update.js","sources":["webpack:///./utils/useFetch.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\n\r\nexport default url => {\r\n  const isCurrent = useRef(true);\r\n  const [stats, setStats] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // called when the component is going to unmount\r\n      isCurrent.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const getStats = async () => {\r\n    //console.log(\"UseFetch invoked:\", url);\r\n    let data;\r\n    try {\r\n      let response = await fetch(url);\r\n      data = await response.json();\r\n      if (isCurrent.current) setStats(data);\r\n    } catch (err) {\r\n      setError(err);\r\n      setStats(null);\r\n    }\r\n    if (isCurrent.current) setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (url) getStats();\r\n  }, [url, setStats]);\r\n\r\n  return { stats, loading, error };\r\n};\r\n\r\n// export default function Example() {\r\n//   const [data, dataSet] = useState(false);\r\n\r\n//   async function fetchMyAPI() {\r\n//     let response = await fetch(\"api/data\");\r\n//     response = await res.json();\r\n//     dataSet(response);\r\n//   }\r\n\r\n//   useEffect(() => {\r\n//     fetchMyAPI();\r\n//   }, []);\r\n\r\n//   return <div>{data}</div>;\r\n// }\r\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAAA;AACA;AADA;AAAA;AAAA;AAQA;AACA;AACA;AAVA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;;;A","sourceRoot":""}